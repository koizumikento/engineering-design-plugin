# 統合設計仕様書 - IoT温湿度センサーデバイス

## 基本情報
- **プロジェクト名**: iot-device
- **バージョン**: 1.0
- **作成日**: 2024-01-01
- **ステータス**: Approved

---

## 機械設計仕様

### 機能要件
- [x] ESP32モジュールを収納
- [x] DHT22センサー露出用スリット
- [x] 壁掛け設置
- [x] USB-C充電口

### 寸法・形状
| 項目 | 値 | 公差 | 備考 |
|------|-----|------|------|
| 外形（全長） | 80mm | ±0.5mm | |
| 外形（全幅） | 50mm | ±0.5mm | |
| 外形（全高） | 25mm | ±0.5mm | 蓋含む |
| 肉厚 | 2.0mm | ±0.2mm | |

### 材質・表面処理
- **想定材質**: PLA
- **表面処理**: なし
- **色**: 白

---

## 回路設計仕様

### 機能要件
- [x] ESP32によるWiFi通信
- [x] DHT22で温湿度計測
- [x] USB-C電源入力（5V）
- [x] ステータスLED
- [x] リセットボタン

### 電気的仕様
| 項目 | 最小 | 標準 | 最大 | 単位 |
|------|------|------|------|------|
| 入力電圧 | 4.5 | 5.0 | 5.5 | V |
| 動作電圧 | 3.0 | 3.3 | 3.6 | V |
| 消費電流（平均） | - | 80 | - | mA |
| 消費電流（WiFi TX） | - | - | 500 | mA |

### 使用部品
- [x] ESP32-WROOM-32モジュール
- [x] DHT22 温湿度センサー
- [x] AMS1117-3.3 LDO
- [x] USB-Cコネクタ
- [x] タクトスイッチ（リセット）
- [x] LED（ステータス）

---

## 基板-筐体インターフェース

### 基板仕様
| 項目 | 値 | 備考 |
|------|-----|------|
| 基板サイズ | 70 × 40 mm | |
| 基板厚 | 1.6mm | FR-4 |
| 取付穴 | M2.5 × 4箇所 | |
| 取付穴位置 | (3,3), (67,3), (3,37), (67,37) | 基板原点から |

### 筐体仕様
| 項目 | 値 | 備考 |
|------|-----|------|
| 内寸 | 74 × 44 × 20 mm | クリアランス2mm |
| ボス位置 | (3,3), (67,3), (3,37), (67,37) | 基板原点基準 |
| ボス高さ | 5mm | |

### コネクタ・開口部
| コネクタ | 基板位置 | 開口位置 | 開口サイズ |
|---------|---------|---------|-----------|
| USB-C | 短辺中央、基板端 | 短辺中央 | 10×4mm |
| DHT22 | 長辺中央 | 通気スリット | 30×3mm×3本 |

### 部品高さ
| 部品 | 高さ | 位置 |
|------|------|------|
| ESP32モジュール | 3.0mm | 基板中央 |
| DHT22 | 8.0mm | 基板端（露出） |
| USB-Cコネクタ | 3.2mm | 基板端 |
| タクトスイッチ | 4.5mm | (60, 5) |

---

## 干渉チェック
- [x] 基板と筐体内壁のクリアランス確認（各辺2mm）
- [x] DHT22センサー通気スリット確認
- [x] USB-C挿抜スペース確認
- [x] 取付穴位置の一致確認

---

## 出力形式

### 機械設計
- [x] STEP
- [x] STL
- [x] PNG

### 回路設計
- [x] ネットリスト
- [x] 回路図（SVG）
- [x] BOM

---

## 承認
- [x] **仕様承認済み** - 以下のコマンドを実行:
  1. `/engineering-design:cad` - 筐体生成
  2. `/engineering-design:circuit` - 回路生成
  3. `/engineering-design:integrate` - 整合性チェック
